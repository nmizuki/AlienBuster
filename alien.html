<!DOCTYPE html>
<html>
<head>
    <title>宇宙人バスターズ</title>
    <link rel='stylesheet' href='css/style.css' />	
	<style>
    	#mycanvas{
    		border: 5px solid #999;
    		cursor: crosshair;
    	}
    	.thumbnail{
    		border: 2px solid #999;
    		margin-right: 5px;
    	}
    </style>
</head>

<body onLoad="getItem();">
<div id="wrapper">
<div id="enemyStatus">
	<p><img src='img/hp.png' id="hp" width='180px' height='40px'></p>
</div>
<!--
	<p>
		<select id = "penColor">
		<option value = "black">黒</option>
		<option value = "red">赤</option>
		<option value = "blue">青</option>
		<option value = "green">緑</option>
		</select>
		<select id = "penWidth">
		<option value = "1">小</option>
		<option value = "3">中</option>
		<option value = "5">大</option>
		</select>
		<input type = "button" id= "erase" value = "消去">
		<input type = "button" id= "save" value = "ギャラリーに追加">
	</p>
--!>
	<canvas id="game">
		Canvasに対応したブラウザを用意して下さい
	</canvas>
	<div id = "gallery"></div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js">
	</script>
	<script>
		$(function(){
			var canvas = document.getElementById('game');
			if(!canvas || !canvas.getContext) return false;
			var ctx = canvas.getContext('2d');
			
			var startX,
				startY,
				x,
				y,
				borderWidth = 5,
				isDrawing = false;
				
			$('#game').touchdown(function(e){
				isDrawing = true;
				startX = e.pageX - $(this).offset().left - borderWidth;
				startY = e.pageY - $(this).offset().top - borderWidth;
			})
			.touchmove(function(e){
				if(!isDrawing) return;
				x = e.pageX - $(this).offset().left - borderWidth;
				y = e.pageY - $(this).offset().top - borderWidth;
				ctx.beginPath();
				ctx.moveTo(startX,startY);
				ctx.lineTo(x,y);
				ctx.stroke();
				startX = x;
				startY = y;
			})
			.touchup(function(){
				isDrawing = false;
			})
			.touchleave(function(){
				isDrawing = false;
			});
/*			
			$('#penColor').change(function(){
				ctx.strokeStyle = $(this).val();
			});
			$('#penWidth').change(function(){
				ctx.lineWidth = $(this).val();
			});
			
			$('#erase').click(function(){
				if(!confirm('本当に消去しますか？'))return;
				ctx.clearRect(0,0,canvas.width,canvas.height);
			});
			
			$('#save').click(function(){
				var img = $('<img>').attr({
					width: 100,
					height: 50,
					src: canvas.toDataURL()
				});
				var link = $('<a>').attr({
					href:canvas.toDataURL().replace('image/png',
					'application/octet-stream'),
					download: new Date().getTime() + '.png'
				});
				$('#gallery').append(link.append(img.addClass('thumbnail')));
				ctx.clearRect(0,0,canvas.width,canvas.height);
			});
	
				
		});*/
	</script>
    
    
    <form id="buttons">
      <ul>
        <li><input type="button" value="" id="item1" class="button" onClick="selectA('item1');"></li>
        <li><input type="button" value="" id="item2" class="button" onClick="selectA('item2');"></li>
        <li><input type="button" value="" id="item3" class="button" onClick="selectA('item3');"></li>
        <li><input type="button" value="" id="item4" class="button" onClick="selectA('item4');"></li>
      </ul>
    </form>
<div id="myStatus">
      <img src='img/myhp.png' id="myhp" width='180px' height='40px'>
</div>
</div>
<script src='js/game.js'></script>
</body>
</html>
